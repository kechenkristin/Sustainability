{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arseniikhmara/Documents/selfCode/Sustainability/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/arseniikhmara/Documents/selfCode/Sustainability/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/arseniikhmara/Documents/selfCode/Sustainability/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/arseniikhmara/Documents/selfCode/Sustainability/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import classes from\"./advices.module.css\";import liked from\"../assets/liked.png\";import notLiked from\"../assets/notLiked.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Advices=function Advices(_ref){var response=_ref.response,active=_ref.active;var articles=response.split('\\n').filter(function(article){return article.trim()!=='';});var _useState=useState(Array(articles.length).fill(false)),_useState2=_slicedToArray(_useState,2),likes=_useState2[0],setLikes=_useState2[1];var toggleLike=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(index){var newLikes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:newLikes=_toConsumableArray(likes);newLikes[index]=!newLikes[index];setLikes(newLikes);_context.prev=3;_context.next=6;return axios.post(\"http://localhost:8000/setFavourite\");case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](3);console.error(\"Error sending favorite status:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[3,8]]);}));return function toggleLike(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:classes.board,children:articles.map(function(article,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes.item,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.article,children:article}),active&&/*#__PURE__*/_jsx(\"div\",{className:classes.likeButton,onClick:function onClick(){return toggleLike(index);},children:/*#__PURE__*/_jsx(\"img\",{src:likes[index]?liked:notLiked,alt:\"Like button\"})})]},index);})});};export default Advices;","map":{"version":3,"names":["React","useState","axios","classes","liked","notLiked","jsx","_jsx","jsxs","_jsxs","Advices","_ref","response","active","articles","split","filter","article","trim","_useState","Array","length","fill","_useState2","_slicedToArray","likes","setLikes","toggleLike","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","index","newLikes","wrap","_callee$","_context","prev","next","_toConsumableArray","post","t0","console","error","stop","_x","apply","arguments","className","board","children","map","item","likeButton","onClick","src","alt"],"sources":["/Users/arseniikhmara/Documents/selfCode/Sustainability/frontend/src/components/advices.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport classes from \"./advices.module.css\";\n\nimport liked from \"../assets/liked.png\";\nimport notLiked from \"../assets/notLiked.png\";\n\nconst Advices = ({ response, active }) => {\n    const articles = response.split('\\n').filter(article => article.trim() !== '');\n    const [likes, setLikes] = useState(Array(articles.length).fill(false));\n\n    const toggleLike = async (index) => {\n        const newLikes = [...likes];\n        newLikes[index] = !newLikes[index];\n        setLikes(newLikes);\n\n        try {\n            await axios.post(\"http://localhost:8000/setFavourite\");\n        } catch (error) {\n            console.error(\"Error sending favorite status:\", error);\n        }\n    };\n\n    return (\n        <div className={classes.board}>\n            {articles.map((article, index) => (\n                <div className={classes.item} key={index}>\n                    <div className={classes.article}>{article}</div>\n                    {active && (\n                        <div className={classes.likeButton} onClick={() => toggleLike(index)}>\n                            <img\n                                src={likes[index] ? liked : notLiked}\n                                alt=\"Like button\"\n                            />\n                        </div>\n                    )}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Advices;\n"],"mappings":"4mBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAE1C,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAAC,IAAA,CAA6B,IAAvB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAC/B,GAAM,CAAAC,QAAQ,CAAGF,QAAQ,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAAC,SAAAC,OAAO,QAAI,CAAAA,OAAO,CAACC,IAAI,EAAE,GAAK,EAAE,GAAC,CAC9E,IAAAC,SAAA,CAA0BlB,QAAQ,CAACmB,KAAK,CAACN,QAAQ,CAACO,MAAM,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAA/DM,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,UAAU,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACrBL,QAAQ,CAAAM,kBAAA,CAAOf,KAAK,EAC1BS,QAAQ,CAACD,KAAK,CAAC,CAAG,CAACC,QAAQ,CAACD,KAAK,CAAC,CAClCP,QAAQ,CAACQ,QAAQ,CAAC,CAACG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGT,CAAArC,KAAK,CAACuC,IAAI,CAAC,oCAAoC,CAAC,QAAAJ,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAEtDM,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAAP,QAAA,CAAAK,EAAA,CAAQ,CAAC,yBAAAL,QAAA,CAAAQ,IAAA,MAAAb,OAAA,gBAE9D,kBAVK,CAAAL,UAAUA,CAAAmB,EAAA,SAAAlB,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OAUf,CAED,mBACIzC,IAAA,QAAK0C,SAAS,CAAE9C,OAAO,CAAC+C,KAAM,CAAAC,QAAA,CACzBrC,QAAQ,CAACsC,GAAG,CAAC,SAACnC,OAAO,CAAEgB,KAAK,qBACzBxB,KAAA,QAAKwC,SAAS,CAAE9C,OAAO,CAACkD,IAAK,CAAAF,QAAA,eACzB5C,IAAA,QAAK0C,SAAS,CAAE9C,OAAO,CAACc,OAAQ,CAAAkC,QAAA,CAAElC,OAAO,EAAO,CAC/CJ,MAAM,eACHN,IAAA,QAAK0C,SAAS,CAAE9C,OAAO,CAACmD,UAAW,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5B,UAAU,CAACM,KAAK,CAAC,EAAC,CAAAkB,QAAA,cACjE5C,IAAA,QACIiD,GAAG,CAAE/B,KAAK,CAACQ,KAAK,CAAC,CAAG7B,KAAK,CAAGC,QAAS,CACrCoD,GAAG,CAAC,aAAa,EACnB,EAET,GAT8BxB,KAAK,CAUlC,EACT,CAAC,EACA,CAEd,CAAC,CAED,cAAe,CAAAvB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}